!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=29)}({29:function(t,e,n){t.exports=n("h2Yg")},h2Yg:function(t,e,n){"use strict";$(document).ready((function(){$(document).on("submit","#createTicket, #editTicket",(function(){if(jQuery(this).find("#btnSave").button("loading"),""!==$("#error-msg").text())return!1;var t=""===$("<div />").html($("#ticketBody").summernote("code")).text().trim().replace(/ \r\n\t/g,"");if($("#ticketBody").summernote("isEmpty"))$("#ticketBody").val("");else if(t){return displayErrorMessage("Description field is not contain only white space"),jQuery(this).find("#btnSave").button("reset"),!1}})),$("#tagId").select2({width:"100%",placeholder:"  Select Tags"}),$("#priorityId").select2({width:"100%"}),$("#serviceId").select2({width:"100%"}),$("#contactId,#assignToId,#departmentId,#predefinedReplyId").select2({width:"100%"}),$("#ticketStatusId").select2({width:"100%",placeholder:"Select Status"}),$(".ticketBody").summernote({dialogsInBody:!0,minHeight:150,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]}),$(document).on("click","#ticketContactBtn",(function(){$("#contactCol").hasClass("d-none")?($("#ticketContact").text("Ticket without Contact"),$("#ticketContactIcon").attr("class","fas fa-envelope"),$("#contactCol").removeClass("d-none"),$("#nameCol").addClass("d-none")):($("#ticketContact").text("Ticket to Contact"),$("#ticketContactIcon").attr("class","fas fa-user"),$("#contactCol").addClass("d-none"),$("#nameCol").removeClass("d-none"))})),$(document).on("change","#predefinedReplyId",(function(){var t=$(this).val();""!==t?$.ajax({url:predefinedReplyUrl+t,type:"GET",success:function(t){$(".ticketBody").summernote("code",t)}}):$(".ticketBody").summernote("code","")})),$(document).on("mouseenter",".ticket-attachment",(function(){$(this).find(".attachment-delete").removeClass("d-none")})),$(document).on("mouseleave",".ticket-attachment",(function(){$(this).find(".attachment-delete").addClass("d-none")})),$(document).on("click",".attachment-delete",(function(t){var e=$(t.currentTarget).data("id");swal({title:"Delete !",text:'Are you sure want to delete this "Attachment" ?',type:"warning",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,confirmButtonColor:"#6777ef",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Yes"},(function(){$.ajax({url:ticketAttachmentUrl,type:"DELETE",dataType:"json",data:{mediaId:e},success:function(t){t.success&&window.location.reload(),swal({title:"Deleted!",text:"Attachment has been deleted.",type:"success",confirmButtonColor:"#6777ef",timer:2e3})},error:function(t){swal({title:"",text:t.responseJSON.message,type:"error",confirmButtonColor:"#6777ef",timer:5e3})}})}))})),document.querySelector("#attachment").addEventListener("change",(function(e){if(!e.target.files||!window.FileReader)return;t.innerHTML="";for(var n=e.target.files,i=function(e){var i=n[e],o=new FileReader;o.onload=function(e){if(i.type.match("image*")){var n="<img class='img-thumbnail thumbnail-preview ticket-attachment' src=\""+e.target.result+'">';t.innerHTML+=n}else if(i.type.match("pdf*")){t.innerHTML+="<img class='img-thumbnail thumbnail-preview ticket-attachment' src=\"/assets/img/pdf_icon.png\">"}else if(i.type.match("zip*")){t.innerHTML+="<img class='img-thumbnail thumbnail-preview ticket-attachment' src=\"/assets/img/zip_icon.png\">"}else if(i.type.match("sheet*")){t.innerHTML+="<img class='img-thumbnail thumbnail-preview ticket-attachment' src=\"/assets/img/xlsx_icon.png\">"}else if(i.type.match("text*")){t.innerHTML+="<img class='img-thumbnail thumbnail-preview ticket-attachment' src=\"/assets/img/txt_icon.png\">"}else if(i.type.match("msword*")){t.innerHTML+="<img class='img-thumbnail thumbnail-preview ticket-attachment' src=\"/assets/img/doc_icon.png\">"}else t.innerHTML+=i.name},o.readAsDataURL(i)},o=0;o<n.length;o++)i(o)}),!1);var t=document.querySelector("#attachmentFileSection");$(document).on("mouseenter",".ticket-attachment",(function(){$(this).find(".ticket-attachment__icon").removeClass("d-none")})),$(document).on("mouseleave",".ticket-attachment",(function(){$(this).find(".ticket-attachment__icon").addClass("d-none")}))}))}});
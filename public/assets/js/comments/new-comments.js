!function(e){var n={};function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(o,s,function(n){return e[n]}.bind(null,s));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=89)}({89:function(e,n,t){e.exports=t("JM+Y")},"JM+Y":function(e,n,t){"use strict";$(document).on("click","#btnCancel",(function(){$("#commentContainer").summernote("code","")})),$(document).on("click","#btnComment",(function(){var e=s.summernote("code"),n=$("#ownerId").val(),t=$("#moduleId").val();if(s.summernote("isEmpty"))return!1;var o=""===$("<div />").html($("#commentContainer").summernote("code")).text().trim().replace(/ \r\n\t/g,"");if($("#commentContainer").summernote("isEmpty"))$("#commentContainer").val("");else if(o){return displayErrorMessage("Comment field is not contain only white space"),$(this).button("reset"),!1}var a=$(this);a.button("loading"),$.ajax({url:commentSaveUrl,type:"post",data:{description:e,owner_id:n,module_id:t},success:function(e){e.success&&function(e){var n=(t=e,o=t.id,a="",t.added_by==authId&&(a='                    <a class="user__icons del-comment d-none task-comment-delete" data-id="'+o+'"><i class="fas fa-trash ml-0 card-delete-icon"></i></a>\n                    <a class="user__icons edit-comment d-none task-comment-edit" data-id="'+o+'"><i class="fas fa-edit mr-2 card-edit-icon"></i></a>\n                    <a class="user__icons save-comment comment-save-icon-'+o+' d-none task-comment-check" data-id="'+o+'"><i class="far fa-check-circle card-save-icon text-success font-weight-bold hand-cursor mr-2 ml-2"></i></a>\n                    <a class="user__icons cancel-comment comment-cancel-icon-'+o+' d-none task-comment-cancel" data-id="'+o+'"><i class="fas fa-times card-cancel-icon hand-cursor"></i></a>\n'),'<div class="activity clearfix comments__information" id="comment__'+o+'">\n        <div class="activity-icon">\n            <img class="user__img profile" src="'+t.user.image_url+'" alt="User Image" width="50" height="50">\n            <span class="user__username">\n            </span>\n        </div>\n        <div class="activity-detail col-xl-11 col-lg-10 pt-1 mb-3">        <div class="mb-0 d-flex justify-content-between flex-wrap">        <div class="d-flex flex-wrap align-items-center">             <span class="font-weight-bold lead">'+t.user.full_name+'</span>\n            <span class="user__description text-job text-dark ml-2">Just now</span>\n        </div><div>'+a+'            </div></div>            <div class="user__comment mt-2 comment-display comment-display-'+o+'" data-id="'+o+'">\n'+t.description+'           </div>\n           <div class="user__comment d-none comment-edit comment-edit-'+o+'">\n           <div id="commentEditContainer'+o+'" class="quill-editor-container"></div>\n           </div>\n       </div>    </div>');var t,o,a;$(".comments .activities").prepend(n),s.summernote("code",""),$(".no_comments").hide()}(e.data),a.button("reset")},error:function(e){a.button("reset"),printErrorMessage("#taskValidationErrorsBox",e)}})})),$(document).on("click",".del-comment",(function(e){var n=$(this).data("id");swal({title:"Delete !",text:'Are you sure want to delete this "Comment" ?',type:"warning",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,confirmButtonColor:"#6777ef",cancelButtonColor:"#d33",cancelButtonText:"No",confirmButtonText:"Yes"},(function(){$.ajax({url:commentUrl+n,type:"DELETE",success:function(e){e.success&&function(e,n){$("#comment__"+e).remove(),$.ajax({url:ownerUrl+"/"+n+"/comments-count",type:"GET",success:function(e){0==e.data&&($(".no_comments").show(),$(".no_comments").removeClass("d-none"))}})}(n,ownerId),swal({title:"Deleted!",text:"Comment has been deleted.",type:"success",confirmButtonColor:"#6777ef",timer:2e3})},error:function(e){swal({title:"",text:e.responseJSON.message,type:"error",timer:5e3})}})}))}));var o=[];$(document).on("click",".comment-display,.edit-comment",(function(){var e=$(this).data("id");if($(document).find("[class*='comment-display-']").removeClass("d-none"),$(document).find("[class*='comment-edit-']").addClass("d-none"),$(document).find("[class*='comment-save-icon-']").addClass("d-none"),$(document).find("[class*='comment-cancel-icon-']").addClass("d-none"),$(".comment-display-"+e).addClass("d-none"),""===$("#commentEditContainer"+e).html())setCommentEditData(e);else{var n=$.trim($(".comment-display-"+e).html());o[e].summernote("code",""),o[e].summernote("code",n)}$(".comment-edit-"+e).removeClass("d-none"),$(".comment-save-icon-"+e).removeClass("d-none"),$(".comment-cancel-icon-"+e).removeClass("d-none")})),window.setCommentEditData=function(e){o[e]=$("#commentEditContainer"+e).summernote({placeholder:"Add Comment...",minHeight:200,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]});var n=$.trim($(".comment-display-"+e).html());o[e].summernote("code",n)},$(document).on("click",".cancel-comment",(function(e){var n=$(this).data("id");$(this).addClass("d-none"),$(".comment-display-"+n).removeClass("d-none"),$(".comment-edit-"+n).addClass("d-none"),$(".comment-save-icon-"+n).addClass("d-none")})),$(document).on("click",".save-comment",(function(e){var n=$(this).data("id"),t=o[n].summernote("code"),s=$("#ownerId").val(),a=$("#moduleId").val();if(o[n].summernote("isEmpty"))return!1;var i=""===$("<div />").html($("#commentEditContainer"+n).summernote("code")).text().trim().replace(/ \r\n\t/g,"");if($("#commentEditContainer"+n).summernote("isEmpty"))$("#commentEditContainer"+n).val("");else if(i){return displayErrorMessage("Comment field is not contain only white space"),$(this).button("reset"),!1}$.ajax({url:commentUrl+n,type:"put",data:{description:t,owner_id:s,module_id:a},success:function(e){e.success&&function(e,n){$(".comment-display-"+e).html(n).removeClass("d-none"),$(".comment-edit-"+e).addClass("d-none"),$(".comment-save-icon-"+e).addClass("d-none"),$(".comment-cancel-icon-"+e).addClass("d-none")}(n,t)},error:function(e){printErrorMessage("#taskValidationErrorsBox",e)}})})),$(document).on("mouseenter",".comments__information",(function(){$(this).find(".del-comment").removeClass("d-none"),$(this).find(".edit-comment").removeClass("d-none")})),$(document).on("mouseleave",".comments__information",(function(){$(this).find(".del-comment").addClass("d-none"),$(this).find(".edit-comment").addClass("d-none")}));var s=$("#commentContainer").summernote({placeholder:"Add Comment...",minHeight:200,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough"]],["para",["paragraph"]]]})}});